<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rim Me</title>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KQ1BCQT0M4"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-KQ1BCQT0M4');
    </script>
    <style>
        /* ============================================
           STYLES - This controls how everything looks
           ============================================ */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: white;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Stats bar at the top */
        .stats-bar {
            display: flex;
            gap: 30px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #00d4ff;
        }

        .stat-label {
            font-size: 0.8rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* The drawing canvas */
        .canvas-container {
            position: relative;
            margin-bottom: 20px;
        }

        canvas {
            background: #0d1b2a;
            border-radius: 20px;
            cursor: crosshair;
            touch-action: none; /* Prevents scrolling while drawing on mobile */
        }

        /* Score display that appears after drawing */
        .score-display {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 4rem;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s ease;
            text-shadow: 0 0 30px currentColor;
            pointer-events: none;
        }

        .score-display.visible {
            opacity: 1;
        }

        /* Feedback message */
        .feedback {
            font-size: 1.2rem;
            margin-bottom: 20px;
            min-height: 30px;
            text-align: center;
        }

        /* Buttons */
        .button {
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            color: white;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
        }

        /* Level progress bar */
        .level-bar {
            width: 300px;
            height: 10px;
            background: #0d1b2a;
            border-radius: 5px;
            margin-top: 20px;
            overflow: hidden;
        }

        .level-progress {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            transition: width 0.5s ease;
        }

        .level-text {
            margin-top: 10px;
            font-size: 0.9rem;
            color: #888;
        }

        /* Achievement popup */
        .achievement {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #7b2cbf, #00d4ff);
            padding: 20px;
            border-radius: 15px;
            transform: translateX(400px);
            transition: transform 0.5s ease;
            max-width: 280px;
        }

        .achievement.visible {
            transform: translateX(0);
        }

        .achievement-title {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.8;
        }

        .achievement-name {
            font-size: 1.3rem;
            font-weight: bold;
            margin-top: 5px;
        }

        /* Instructions */
        .instructions {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        /* Coffee button */
        .coffee-btn {
            display: inline-block;
            margin-top: 30px;
            padding: 12px 24px;
            background: linear-gradient(135deg, #ff9d00, #ffcc00);
            color: #1a1a2e;
            text-decoration: none;
            font-weight: bold;
            font-size: 0.95rem;
            border-radius: 50px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .coffee-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 200, 0, 0.5);
        }

        /* Share buttons container */
        .share-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .share-buttons.visible {
            opacity: 1;
            pointer-events: all;
        }

        .share-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .share-btn:hover {
            transform: scale(1.05);
        }

        .share-btn.twitter {
            background: #1DA1F2;
            color: white;
        }

        .share-btn.twitter:hover {
            box-shadow: 0 0 20px rgba(29, 161, 242, 0.5);
        }

        .share-btn.challenge {
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            color: white;
        }

        .share-btn.challenge:hover {
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
        }

        .share-btn.copy {
            background: #444;
            color: white;
        }

        .share-btn.copy:hover {
            box-shadow: 0 0 20px rgba(100, 100, 100, 0.5);
        }

        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #333;
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 0.9rem;
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .toast.visible {
            transform: translateX(-50%) translateY(0);
        }
    </style>
</head>
<body>
    <h1>üçë Rim Me</h1>
    
    <p class="instructions">Draw a circle with your mouse or finger</p>
    
    <!-- Stats at the top -->
    <div class="stats-bar">
        <div class="stat">
            <div class="stat-value" id="currentStreak">0</div>
            <div class="stat-label">Streak</div>
        </div>
        <div class="stat">
            <div class="stat-value" id="bestScore">-</div>
            <div class="stat-label">Best</div>
        </div>
        <div class="stat">
            <div class="stat-value" id="totalCircles">0</div>
            <div class="stat-label">Circles</div>
        </div>
        <div class="stat">
            <div class="stat-value" id="currentLevel">1</div>
            <div class="stat-label">Level</div>
        </div>
    </div>

    <!-- Drawing area -->
    <div class="canvas-container">
        <canvas id="canvas" width="400" height="400"></canvas>
        <div class="score-display" id="scoreDisplay">10</div>
    </div>

    <!-- Feedback text -->
    <div class="feedback" id="feedback"></div>

    <!-- Clear button -->
    <button class="button" id="clearBtn">Draw Again</button>

    <!-- Share buttons (hidden until you draw) -->
    <div class="share-buttons" id="shareButtons">
        <button class="share-btn twitter" id="shareTwitter">ùïè Share Roast</button>
        <button class="share-btn challenge" id="shareChallenge">üéØ Challenge a Friend</button>
        <button class="share-btn copy" id="copyLink">üìã Copy Link</button>
    </div>

    <!-- Toast notification -->
    <div class="toast" id="toast">Link copied!</div>

    <!-- Level progress -->
    <div class="level-bar">
        <div class="level-progress" id="levelProgress"></div>
    </div>
    <div class="level-text" id="levelText">0 / 5 good circles to next level</div>

    <!-- Buy me a coffee button -->
    <a href="https://buymeacoffee.com/rimme" target="_blank" class="coffee-btn">‚òï Buy me a coffee homie</a>

    <!-- Achievement popup (hidden by default) -->
    <div class="achievement" id="achievement">
        <div class="achievement-title">üèÜ Achievement Unlocked!</div>
        <div class="achievement-name" id="achievementName"></div>
    </div>

    <script>
        /* ================================================
           JAVASCRIPT - This is the brain of the app
           Everything that "happens" is controlled here
           ================================================ */

        // ---- STEP 1: Get references to HTML elements ----
        // These lines connect our JavaScript to elements on the page
        // Think of it like giving nicknames to things we want to control
        
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');  // This is our "paintbrush"
        const scoreDisplay = document.getElementById('scoreDisplay');
        const feedback = document.getElementById('feedback');
        const clearBtn = document.getElementById('clearBtn');
        const streakEl = document.getElementById('currentStreak');
        const bestEl = document.getElementById('bestScore');
        const totalEl = document.getElementById('totalCircles');
        const levelEl = document.getElementById('currentLevel');
        const levelProgress = document.getElementById('levelProgress');
        const levelText = document.getElementById('levelText');
        const achievement = document.getElementById('achievement');
        const achievementName = document.getElementById('achievementName');

        // ---- STEP 2: Set up our game state ----
        // These variables keep track of everything happening in the game
        
        let isDrawing = false;          // Is the user currently drawing?
        let points = [];                // Array to store all the points they draw
        let streak = 0;                 // How many "good" circles in a row
        let bestScore = 0;              // Their all-time best score
        let totalCircles = 0;           // Total circles drawn
        let level = 1;                  // Current level
        let goodCirclesThisLevel = 0;   // Progress toward next level
        const circlesPerLevel = 5;      // How many good circles needed to level up

        // Achievement tracking - which achievements have they unlocked?
        let achievements = {
            firstCircle: false,
            perfectTen: false,
            streak5: false,
            streak10: false,
            level5: false,
            century: false
        };

        // ---- STEP 3: Drawing functions ----
        // These handle what happens when the user draws on the canvas

        // Get the position of mouse/touch relative to the canvas
        function getPosition(e) {
            const rect = canvas.getBoundingClientRect();
            const clientX = e.touches ? e.touches[0].clientX : e.clientX;
            const clientY = e.touches ? e.touches[0].clientY : e.clientY;
            return {
                x: clientX - rect.left,
                y: clientY - rect.top
            };
        }

        // When user starts drawing (mouse down or touch start)
        function startDrawing(e) {
            e.preventDefault();
            isDrawing = true;
            points = [];  // Clear any previous points
            ctx.clearRect(0, 0, canvas.width, canvas.height);  // Clear the canvas
            scoreDisplay.classList.remove('visible');  // Hide any previous score
            
            const pos = getPosition(e);
            points.push(pos);
            
            // Set up the drawing style
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
            ctx.strokeStyle = '#00d4ff';  // Cyan color
            ctx.lineWidth = 3;
            ctx.lineCap = 'round';  // Smooth line endings
        }

        // While user is drawing (mouse move or touch move)
        function draw(e) {
            if (!isDrawing) return;  // Only draw if we started drawing
            e.preventDefault();
            
            const pos = getPosition(e);
            points.push(pos);
            
            // Draw a line to the new position
            ctx.lineTo(pos.x, pos.y);
            ctx.stroke();
        }

        // When user finishes drawing (mouse up or touch end)
        function stopDrawing(e) {
            if (!isDrawing) return;
            e.preventDefault();
            isDrawing = false;
            
            // Need at least some points to analyze
            if (points.length > 10) {
                analyzeCircle();
            } else {
                feedback.textContent = "Draw a bit more! That was too short.";
            }
        }

        // ---- STEP 4: The circle analysis algorithm ----
        // This is where the math magic happens!
        
        function analyzeCircle() {
            // STEP 4a: Find the center of what they drew
            // We do this by averaging all the X positions and all the Y positions
            let sumX = 0, sumY = 0;
            for (let point of points) {
                sumX += point.x;
                sumY += point.y;
            }
            const centerX = sumX / points.length;
            const centerY = sumY / points.length;

            // STEP 4b: Calculate the distance from center to each point
            // For a perfect circle, all these distances would be identical
            let distances = [];
            for (let point of points) {
                const dx = point.x - centerX;
                const dy = point.y - centerY;
                const distance = Math.sqrt(dx * dx + dy * dy);  // Pythagorean theorem!
                distances.push(distance);
            }

            // STEP 4c: Find the average radius (average of all distances)
            let sumDist = 0;
            for (let d of distances) {
                sumDist += d;
            }
            const avgRadius = sumDist / distances.length;

            // STEP 4d: Calculate how much the distances vary from the average
            // This is called "standard deviation" - lower = more circular
            let sumVariance = 0;
            for (let d of distances) {
                const diff = d - avgRadius;
                sumVariance += diff * diff;
            }
            const variance = sumVariance / distances.length;
            const stdDev = Math.sqrt(variance);

            // STEP 4e: Convert to a score out of 10
            // The coefficient of variation (CV) tells us how "wobbly" the circle is
            const cv = stdDev / avgRadius;  // Lower = better
            
            // Convert CV to a score: perfect circle (cv=0) = 10, terrible (cv>0.3) = 0
            let score = Math.max(0, 10 - (cv * 33));
            score = Math.round(score * 10) / 10;  // Round to 1 decimal place

            // STEP 4f: Check if the shape is "closed" (end meets beginning)
            const startPoint = points[0];
            const endPoint = points[points.length - 1];
            const closureDistance = Math.sqrt(
                Math.pow(endPoint.x - startPoint.x, 2) + 
                Math.pow(endPoint.y - startPoint.y, 2)
            );
            
            // Penalize if they didn't close the circle
            if (closureDistance > avgRadius * 0.3) {
                score = Math.max(0, score - 1);
            }

            // Display the results
            displayScore(score, centerX, centerY, avgRadius);
        }

        // ---- STEP 5: Display score and update game state ----
        
        function displayScore(score, centerX, centerY, radius) {
            // Update totals
            totalCircles++;
            totalEl.textContent = totalCircles;

            // Determine color based on score
            let color;
            if (score >= 9) color = '#00ff88';      // Green for excellent
            else if (score >= 7) color = '#00d4ff'; // Cyan for good
            else if (score >= 5) color = '#ffaa00'; // Orange for okay
            else color = '#ff4466';                  // Red for needs work

            // Show the score
            scoreDisplay.textContent = score.toFixed(1);
            scoreDisplay.style.color = color;
            scoreDisplay.classList.add('visible');

            // Draw the "perfect" circle for comparison
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);  // Dashed line
            ctx.stroke();
            ctx.setLineDash([]);  // Reset to solid

            // Draw center point
            ctx.beginPath();
            ctx.arc(centerX, centerY, 4, 0, Math.PI * 2);
            ctx.fillStyle = 'rgba(255, 255, 255, 0.5)';
            ctx.fill();

            // Update streak
            if (score >= 7) {
                streak++;
                goodCirclesThisLevel++;
            } else {
                streak = 0;
            }
            streakEl.textContent = streak;

            // Update best score
            if (score > bestScore) {
                bestScore = score;
                bestEl.textContent = bestScore.toFixed(1);
            }

            // Check for level up
            if (goodCirclesThisLevel >= circlesPerLevel) {
                level++;
                goodCirclesThisLevel = 0;
                levelEl.textContent = level;
                showAchievement(`Level ${level}!`);
            }

            // Update level progress bar
            const progressPercent = (goodCirclesThisLevel / circlesPerLevel) * 100;
            levelProgress.style.width = progressPercent + '%';
            levelText.textContent = `${goodCirclesThisLevel} / ${circlesPerLevel} good circles to next level`;

            // Set feedback message
            const feedbackText = getFeedback(score);
            feedback.textContent = feedbackText;
            feedback.style.color = color;

            // Store data for sharing
            storeShareData(score, feedbackText);

            // Check for achievements
            checkAchievements(score);
        }

        // ---- STEP 6: Feedback messages ----
        
        function getFeedback(score) {
            // Helper function to pick a random insult from an array
            const pick = (arr) => arr[Math.floor(Math.random() * arr.length)];
            
            // GOD TIER: 9.5 - 10 (Grudging respect)
            if (score >= 9.5) return pick([
                "üéØ Fuck. Okay. You win. I hope you get a paper cut celebrating.",
                "üéØ Jesus Christ, that was actually perfect. Don't get used to it, you'll peak here.",
                "üéØ Fine. Take your win. I hope it fills the void your father left.",
                "üéØ Alright, I'll admit it. That was incredible. Now go fuck yourself.",
                "üéØ Holy shit. Even your parents might love you after that one.",
                "üéØ I'm not even mad. I'm disgusted by how good that was.",
                "üéØ You absolute bastard. That was flawless. I hate you.",
                "üéØ Congratulations on peaking. It's all downhill from here, like your hairline.",
                "üéØ That circle is the only perfect thing about you. Treasure it.",
                "üéØ Fine, you win this round. Enjoy your only victory this decade.",
                "üéØ I'd clap but I don't want to give you the satisfaction, you smug prick.",
                "üéØ That was so good I almost forgot what a disappointment you are.",
                "üéØ Perfect circle. Shame your life isn't as well-rounded.",
                "üéØ Okay, I'll give you this one. Don't let it distract from your failing marriage.",
                "üéØ Bravo. Standing ovation. Now fuck off.",
                "üéØ That's genuinely impressive. Unlike everything else you've ever done.",
                "üéØ I can't insult that. And believe me, I tried. Dick.",
                "üéØ You've peaked. This is your Everest. It's sad, really.",
                "üéØ That was perfect. I hope you screenshot it because you'll never do it again.",
                "üéØ Fucking hell. Fine. You're not completely useless. Just mostly."
            ]);
            
            // EXCELLENT: 9.0 - 9.4 (Backhanded compliment)
            if (score >= 9.0) return pick([
                "üåü Damn, not bad. Still wouldn't shag you though.",
                "üåü Impressive. Your wanking hand finally found a productive use.",
                "üåü Well well well. Looks like all that masturbation improved your wrist control.",
                "üåü Almost perfect. Like you. Almost loveable. Almost.",
                "üåü Shit, that was good. Did your wife's boyfriend help you?",
                "üåü Not bad for someone who looks like they were assembled from spare parts.",
                "üåü Great circle! Your parents must be so relieved you're good at something.",
                "üåü Impressive stuff. Shame your personality isn't as smooth as that circle.",
                "üåü That's actually really good. What's it like to succeed for once?",
                "üåü Wow, talent! Where was this when you were building your career?",
                "üåü Nearly perfect. The closest you'll ever get to perfection in any area of life.",
                "üåü Your circle game is strong. Unlike your pull game.",
                "üåü That's the most impressive thing you've done since learning to wipe your own arse.",
                "üåü Solid effort! If only you tried this hard in your relationships.",
                "üåü Great work! Does your therapist know you're capable of achievement?",
                "üåü Beautiful circle. Now do something about that beautiful face. Wait, other way around.",
                "üåü That was smooth as fuck. Unlike your chat-up lines.",
                "üåü You've got skills! Hidden deep, deep beneath layers of disappointment.",
                "üåü Almost nailed it. Story of your sex life, I imagine.",
                "üåü That's really good! Quick, show your mum before she forgets you exist."
            ]);
            
            // GREAT: 8.5 - 8.9 (Encouraging with sting)
            if (score >= 8.5) return pick([
                "‚ú® Getting close! Maybe if you edged more you'd have the stamina to finish properly.",
                "‚ú® Not bad! Your hand-eye coordination is improving. Shame about your face.",
                "‚ú® Ohhh nearly there! Try wanking with your other hand to balance out the muscle development.",
                "‚ú® So close to greatness. So close. Story of your life really.",
                "‚ú® That's actually decent! Your cum-crusted keyboard would be proud.",
                "‚ú® Keep pushing! Channel that sexual frustration into something productive for once.",
                "‚ú® Good effort! You're like a less successful version of someone who's actually good at this.",
                "‚ú® Nearly there! Just like your dad was nearly there for your childhood.",
                "‚ú® Solid attempt! The most solid thing about you, probably.",
                "‚ú® You're improving! At this rate you'll be average by the time you're dead.",
                "‚ú® That's pretty good! Did you finally put down the hentai long enough to practice?",
                "‚ú® Close! Like how close you are to being attractive. Which is not very, but closer than before.",
                "‚ú® Nice one! Your mother would be proud. If she remembered who you were.",
                "‚ú® Getting better! Maybe redirect some of that porn-browsing time to practice.",
                "‚ú® Good stuff! You're almost competent. A new feeling for you, I'm sure.",
                "‚ú® Nearly perfect! Like your excuses for why you're still single.",
                "‚ú® Solid! Unlike your future prospects.",
                "‚ú® That's decent! The first decent thing associated with you.",
                "‚ú® You're close to greatness! Which is ironic because greatness has a restraining order against you.",
                "‚ú® Impressive progress! Your anime body pillow must be cheering you on."
            ]);
            
            // GOOD: 8.0 - 8.4 (Encouraging with sting)
            if (score >= 8.0) return pick([
                "üëç Getting there! Channel that sexual frustration into rounder circles.",
                "üëç Not terrible! Maybe lay off the porn for a week and practice instead.",
                "üëç Progress! Your virginity remains intact but your circles are improving.",
                "üëç That's alright! Imagine if you put this much effort into your relationships.",
                "üëç Keep going! You're almost as good as a child. A talented child, but still.",
                "üëç Decent effort! Like watching a dog try to do maths. Endearing but sad.",
                "üëç You're improving! Unlike your receding hairline.",
                "üëç Not bad! If circle-drawing was a career, you'd almost be employable.",
                "üëç Good attempt! Your hands work better than your brain, clearly.",
                "üëç That's okay! The first okay thing you've produced since... actually, ever.",
                "üëç Progress is progress! Even if yours is slower than a pensioner with a hip replacement.",
                "üëç Keep at it! You might actually become mediocre one day.",
                "üëç That's fine! Not great. Not good. Fine. Like your personality.",
                "üëç You're getting somewhere! Unclear where, but somewhere.",
                "üëç Not your worst! Which is saying something given your track record.",
                "üëç Decent! Like describing someone's looks when you can't say they're attractive.",
                "üëç Okay effort! Put the same energy into your hygiene maybe?",
                "üëç You're learning! Slowly. Very slowly. Concerningly slowly.",
                "üëç That's acceptable! The first time that word has ever applied to you.",
                "üëç Good work! Now apply yourself like this to literally any other aspect of your life."
            ]);
            
            // DECENT: 7.5 - 7.9 (Encouraging with sting)
            if (score >= 7.5) return pick([
                "üòè Ehhh getting there. Try gripping your mouse like you grip your cock - firmly but with love.",
                "üòè Average. Just like your dick. But there's room for growth. Unlike your dick.",
                "üòè Not hopeless! Maybe switch hands - give your dominant one a rest from... other activities.",
                "üòè Could be worse! Your circle's got potential. More than your Tinder profile anyway.",
                "üòè Okay okay, I see you trying. Shame nobody else sees you trying. Ever. At anything.",
                "üòè Mediocre! Just like your parents' expectations of you by now.",
                "üòè That's... something. Not good, but something.",
                "üòè Room for improvement. Much like your entire existence.",
                "üòè You're trying! It's visible. Painfully visible. Like watching someone drown in a puddle.",
                "üòè Average performance! You should put that on your dating profile for accuracy.",
                "üòè It's a circle... technically. Like how you're technically a functioning adult.",
                "üòè Getting there! 'There' being mediocrity. Your natural habitat.",
                "üòè Not terrible! That's the nicest thing anyone's said about you in years, isn't it?",
                "üòè Solid C+. Just like your grades, your performance, and your face.",
                "üòè You're in the middle of the pack! Of losers.",
                "üòè That's okay I guess. Like your cooking. Edible but nobody's excited.",
                "üòè Meh. The sound your mum made when you were born.",
                "üòè It could be rounder. Like your belly, ironically.",
                "üòè Passable! The word people use when they don't want to be mean but can't be nice.",
                "üòè Average effort! Just like your middle name."
            ]);
            
            // MAX SAVAGERY ZONE: 6.5 - 7.4 (Tried and failed)
            if (score >= 6.5) return pick([
                "üî• Maybe if you masturbated less you'd have the energy to draw this damn circle!",
                "üî• Is your arm tired from wanking? Because that circle looks exhausted.",
                "üî• You tried. You failed. Like your parents' contraception.",
                "üî• That circle's as wonky as your mum's moral compass.",
                "üî• Effort detected. Talent not found. Just like when you lose your dick in your own fat rolls.",
                "üî• Was your hand shaking from all the Mountain Dew and regret?",
                "üî• That's what happens when you skip arm day for wank day. Every day.",
                "üî• Did you draw this while crying? Because it looks like it was drawn while crying.",
                "üî• That circle has more issues than your relationship with your father.",
                "üî• You put in effort and still failed. Peak you, really.",
                "üî• I can see you tried. That makes this even sadder.",
                "üî• That's the physical manifestation of disappointment. Well done.",
                "üî• Did your mum bump into you? Or are you just naturally shit?",
                "üî• Imagine being this bad at drawing a circle. You don't have to imagine, do you?",
                "üî• That circle looks like it's given up on life. Relatable for you, I'm sure.",
                "üî• You had one job. ONE. And you still fucked it.",
                "üî• If circles could file complaints, this one would sue you for abuse.",
                "üî• That's not a circle, that's a cry for help in geometric form.",
                "üî• Were you distracted by the crushing weight of your own mediocrity?",
                "üî• Somewhere, a geometry teacher just felt a disturbance in the force and started weeping."
            ]);
            
            // MAX SAVAGERY ZONE: 5.5 - 6.4 (Tried and failed)
            if (score >= 5.5) return pick([
                "üíÄ Did you draw this with your cock? Because that would actually explain a lot.",
                "üíÄ That circle's got more wobbles than your nan's underarms.",
                "üíÄ Christ. Were you being fisted while drawing this?",
                "üíÄ This looks like what happens when someone tries to draw during a prostate exam.",
                "üíÄ I've seen better curves on a fucking roundabout. A bombed roundabout.",
                "üíÄ That circle looks like it was drawn by someone having a Vietnam flashback.",
                "üíÄ Did you sneeze, shit yourself, AND have a stroke simultaneously?",
                "üíÄ This is what happens when cousins are allowed to breed.",
                "üíÄ Were you drawing with your eyes closed? And your hands tied? And your brain removed?",
                "üíÄ That's not a circle. That's a hate crime against geometry.",
                "üíÄ I've seen better shapes squeezed out of a tube of toothpaste.",
                "üíÄ Did someone bump your elbow? Multiple times? While you were having a seizure?",
                "üíÄ That circle has more red flags than your dating history.",
                "üíÄ This looks like it was drawn by a drunk spider on ketamine.",
                "üíÄ Were you trying to be shit, or does it just come naturally?",
                "üíÄ That circle's wonkier than your uncle's 'special hugs'.",
                "üíÄ I've seen smoother lines on a fucking heart monitor flatlining.",
                "üíÄ Did your guide dog draw this for you?",
                "üíÄ That's the saddest thing I've seen today. And I saw your face.",
                "üíÄ This looks like something you'd find in a serial killer's notebook."
            ]);
            
            // MAX SAVAGERY ZONE: 5.0 - 5.4 (Tried and failed)
            if (score >= 5.0) return pick([
                "ü§Æ Mate. MATE. My shit comes out more circular than that.",
                "ü§Æ Was your drawing hand busy fingering your arse? Genuinely curious.",
                "ü§Æ This looks like a cry for help drawn by someone mid-stroke. The medical kind.",
                "ü§Æ Even blind kids at a special school would bully you for this.",
                "ü§Æ Your hand movement is shakier than a prisoner on death row, on the electricution chair trying to wank during an earthquake.",
                "ü§Æ This is what happens when the gene pool has a sewage leak.",
                "ü§Æ Were you born with motor function issues, or is this a lifestyle choice?",
                "ü§Æ That circle looks like it was drawn by a fish flopping on a keyboard.",
                "ü§Æ I've seen more precision from a blind man playing darts.",
                "ü§Æ Did you draw this with your non-dominant hand while someone tased you?",
                "ü§Æ This is an insult to circles everywhere. And that's saying something, they're just shapes.",
                "ü§Æ Your circle has the structural integrity of your mental health.",
                "ü§Æ That's not a circle, that's modern art. And modern art is shit.",
                "ü§Æ Were you trying to draw your family tree? Because it looks equally fucked up.",
                "ü§Æ This looks like someone tried to trace around a plate while blackout drunk.",
                "ü§Æ I've seen more consistent shapes in my vomit after a night out.",
                "ü§Æ Did you draw this during an exorcism? Yours?",
                "ü§Æ That circle has the same energy as your LinkedIn profile. Sad and desperate.",
                "ü§Æ This is what happens when someone's raised exclusively on lead paint chips.",
                "ü§Æ Your circle looks like it was drawn by someone having a breakdown. An accurate representation of the artist."
            ]);
            
            // PATHETIC ZONE: 4.0 - 4.9 (Give up)
            if (score >= 4.0) return pick([
                "üòê Just stop. Seriously. This is embarrassing for both of us.",
                "üòê Have you considered that maybe drawing isn't for you? Or breathing?",
                "üòê That's not a circle. That's a visual representation of your parents' disappointment.",
                "üòê I've seen better shapes in my toilet after a curry. Much better.",
                "üòê Genuinely, are you okay? Medically? This is concerning.",
                "üòê This is the kind of shit that makes teachers drink.",
                "üòê Were you dropped as a baby? Multiple times? On concrete? Into traffic?",
                "üòê That circle is so bad it gave me depression.",
                "üòê I've seen better coordination from a dead fish.",
                "üòê This is why your parents don't have photos of you on display.",
                "üòê Were you actively trying to be shit, or is this your best?",
                "üòê That circle looks like your will to live: barely there and getting worse.",
                "üòê I'm not angry. I'm just disappointed. Actually no, I am angry.",
                "üòê This is why natural selection should make a comeback.",
                "üòê Did you draw this with your feet? While wearing oven mitts?",
                "üòê That's the kind of circle that makes geometry teachers retire early.",
                "üòê I've seen better motor skills from vegetables. Actual vegetables in comas.",
                "üòê This is so bad I think it violated the Geneva Convention.",
                "üòê Were you having a medical emergency? Should I call someone?",
                "üòê That circle has the same vibe as your career: going nowhere in particular."
            ]);
            
            // PATHETIC ZONE: 3.0 - 3.9 (Give up)
            if (score >= 3.0) return pick([
                "üöÆ Your mum should have swallowed.",
                "üöÆ This is what happens when cousins fuck. You. You're what happens.",
                "üöÆ I'd say go fuck yourself but you'd probably miss.",
                "üöÆ Were you born this useless or did you take lessons?",
                "üöÆ That circle looks like your mum drew it. With her saggy tits. While drunk.",
                "üöÆ I've seen better attempts from people in full body casts.",
                "üöÆ This is why your father went out for milk and never came back.",
                "üöÆ Did your carer let you have screen time unsupervised?",
                "üöÆ That's not a circle. That's a visual hate crime.",
                "üöÆ Even autocorrect couldn't fix what's wrong with you.",
                "üöÆ I've seen better shapes in the aftermath of a car crash.",
                "üöÆ This is the geometric equivalent of shitting the bed.",
                "üöÆ Were you wearing a blindfold? And handcuffs? And suffering from a head injury?",
                "üöÆ That circle looks like it was drawn during a home invasion.",
                "üöÆ Your parents' biggest achievement was not drowning you at birth.",
                "üöÆ I've seen smoother lines at a meth addict convention.",
                "üöÆ Did you draw this with the hand you wipe with? Without washing it first?",
                "üöÆ That's the kind of circle that ends up on the news. For tragic reasons.",
                "üöÆ This is proof that God makes mistakes.",
                "üöÆ Your circle has the same appeal as your personality: none."
            ]);
            
            // PATHETIC ZONE: 2.0 - 2.9 (Give up)
            if (score >= 2.0) return pick([
                "‚ö∞Ô∏è Uninstall your hands. Send them back to God. Demand a fucking refund.",
                "‚ö∞Ô∏è This looks like a suicide note in shape form.",
                "‚ö∞Ô∏è I've seen better motor control from corpses. Literally decomposing corpses.",
                "‚ö∞Ô∏è At this point the circle isn't the problem. Your entire existence is the problem.",
                "‚ö∞Ô∏è Did your brain shit itself while you drew this?",
                "‚ö∞Ô∏è That circle looks like it was drawn by a ghost. Of someone who was shit at drawing when alive.",
                "‚ö∞Ô∏è I'm genuinely worried about you now. And I don't even like you.",
                "‚ö∞Ô∏è This is the kind of thing that gets entered as evidence in court.",
                "‚ö∞Ô∏è Were you drawing during your own autopsy? Because you've got no motor function.",
                "‚ö∞Ô∏è That's not a circle. That's a visual representation of your future: shapeless and depressing.",
                "‚ö∞Ô∏è I've seen better control from people actively having strokes.",
                "‚ö∞Ô∏è This is what happens when someone's parents are also siblings.",
                "‚ö∞Ô∏è Did you draw this while falling down stairs?",
                "‚ö∞Ô∏è That circle has the same energy as a hospice patient. Barely clinging on.",
                "‚ö∞Ô∏è Your hand-eye coordination is worse than your face. And that's saying something.",
                "‚ö∞Ô∏è This is the drawing equivalent of a car crash. Everyone stops to stare in horror.",
                "‚ö∞Ô∏è Were you trying to draw while drowning? Emotionally and physically?",
                "‚ö∞Ô∏è That's the saddest thing I've seen since your birth announcement.",
                "‚ö∞Ô∏è I've seen more talent from people in persistent vegetative states.",
                "‚ö∞Ô∏è This is why human cloning should remain illegal."
            ]);
            
            // PATHETIC ZONE: 1.0 - 1.9 (Give up)
            if (score >= 1.0) return pick([
                "üí© What the actual fuck is this? Did you have a stroke? Are you stroking out right now?",
                "üí© This is so bad I'm going to send it to your employer.",
                "üí© I've seen better coordination from a dead badger being fucked by a truck.",
                "üí© That's not a circle, that's a visual representation of your future. Shapeless and hopeless.",
                "üí© Even your wanking arm is embarrassed by this and that thing has SEEN SOME SHIT.",
                "üí© Did you draw this during a plane crash?",
                "üí© That circle looks like it was drawn by a corpse. A rotting one. With no arms.",
                "üí© This is why your family changes the subject when you're mentioned.",
                "üí© I'm calling adult protective services. You clearly can't take care of yourself.",
                "üí© That's the most pathetic thing I've seen today. And I've seen your face twice.",
                "üí© Were you drawing with your mouth while being waterboarded?",
                "üí© This is the geometric equivalent of screaming into the void.",
                "üí© I've seen better attempts from people in comas. Long-term comas.",
                "üí© Did you draw this while being mauled by a bear?",
                "üí© That circle has the same success rate as your romantic life: zero.",
                "üí© This is so bad it made me believe in Satan. Because only evil could create this.",
                "üí© Were you trying to draw or having a psychotic episode?",
                "üí© That's not a circle. That's a visual restraining order.",
                "üí© I've seen smoother lines drawn by earthquake victims during the earthquake.",
                "üí© This is the kind of thing that gets studied by doctors. For all the wrong reasons."
            ]);
            
            // ABSOLUTE ROCK BOTTOM: 0 - 0.9 (Why exist)
            return pick([
                "‚ò†Ô∏è I'm calling the police. Not because this is a crime. Because someone needs to check on you.",
                "‚ò†Ô∏è This is genuinely the worst thing I've ever seen. And I've watched your parents' sex tape.",
                "‚ò†Ô∏è Delete the app. Delete yourself. Start again as a different species.",
                "‚ò†Ô∏è That's not a circle. That's not even a shape. That's just evidence of brain damage.",
                "‚ò†Ô∏è Somewhere out there, a village is missing its idiot. It's you. You're the idiot. Go home.",
                "‚ò†Ô∏è What the fuck even is that? Did you just smash your face against the screen?",
                "‚ò†Ô∏è I've seen better drawings from people who've lost both arms in industrial accidents.",
                "‚ò†Ô∏è This is so bad I'm having a crisis of faith. In humanity.",
                "‚ò†Ô∏è Did you draw this during your own funeral? Because your talent is definitely dead.",
                "‚ò†Ô∏è That's the worst thing anyone's ever created. Including biological weapons.",
                "‚ò†Ô∏è I'm printing this out and sending it to your mother. She needs to see what she raised.",
                "‚ò†Ô∏è This is the visual equivalent of a war crime.",
                "‚ò†Ô∏è Were you drawing during a nuclear apocalypse? Because something is very wrong.",
                "‚ò†Ô∏è That's not a circle. That's a cry for help. Please, get help.",
                "‚ò†Ô∏è I've seen better motor control from people actively being electrocuted.",
                "‚ò†Ô∏è This is why some animals eat their young. Your mum missed her chance.",
                "‚ò†Ô∏è Did you draw this with your corpse? After you died? From shame?",
                "‚ò†Ô∏è That circle looks like your credit score: absolutely fucked.",
                "‚ò†Ô∏è This is the worst thing to happen to circles since some idiot tried to square one.",
                "‚ò†Ô∏è I'm not even mad. I'm just fascinated by how someone can be this bad at existing."
            ]);
        }

        // ---- STEP 7: Achievement system ----
        
        function checkAchievements(score) {
            if (!achievements.firstCircle) {
                achievements.firstCircle = true;
                showAchievement("First Circle!");
            }
            
            if (score === 10 && !achievements.perfectTen) {
                achievements.perfectTen = true;
                setTimeout(() => showAchievement("Perfect 10! üéØ"), 1500);
            }
            
            if (streak >= 5 && !achievements.streak5) {
                achievements.streak5 = true;
                setTimeout(() => showAchievement("5 Streak! üî•"), 1500);
            }
            
            if (streak >= 10 && !achievements.streak10) {
                achievements.streak10 = true;
                setTimeout(() => showAchievement("10 Streak! üî•üî•"), 1500);
            }
            
            if (level >= 5 && !achievements.level5) {
                achievements.level5 = true;
                setTimeout(() => showAchievement("Level 5 Master! ‚≠ê"), 1500);
            }
            
            if (totalCircles >= 100 && !achievements.century) {
                achievements.century = true;
                setTimeout(() => showAchievement("Century Club! üíØ"), 1500);
            }
        }

        function showAchievement(name) {
            achievementName.textContent = name;
            achievement.classList.add('visible');
            
            // Hide after 3 seconds
            setTimeout(() => {
                achievement.classList.remove('visible');
            }, 3000);
        }

        // ---- STEP 8: Clear button ----
        
        clearBtn.addEventListener('click', () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            scoreDisplay.classList.remove('visible');
            feedback.textContent = '';
            points = [];
        });

        // ---- STEP 9: Connect all the event listeners ----
        // These tell the browser "when X happens, run Y function"
        
        // Mouse events (for desktop)
        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseleave', stopDrawing);

        // Touch events (for mobile/tablet)
        canvas.addEventListener('touchstart', startDrawing);
        canvas.addEventListener('touchmove', draw);
        canvas.addEventListener('touchend', stopDrawing);

        // ---- STEP 10: Share functionality ----
        
        const shareButtons = document.getElementById('shareButtons');
        const shareTwitter = document.getElementById('shareTwitter');
        const shareChallenge = document.getElementById('shareChallenge');
        const copyLink = document.getElementById('copyLink');
        const toast = document.getElementById('toast');
        
        let lastScore = 0;
        let lastFeedback = '';
        
        // Function to store the last score and feedback for sharing
        function storeShareData(score, feedbackText) {
            lastScore = score;
            lastFeedback = feedbackText;
            shareButtons.classList.add('visible');
        }
        
        // Share on Twitter/X
        shareTwitter.addEventListener('click', () => {
            // Remove emoji from start of feedback for cleaner tweet
            const cleanFeedback = lastFeedback.replace(/^[\u{1F300}-\u{1F9FF}]\s*/u, '');
            const tweetText = `I scored ${lastScore}/10 on Rim Me üçë\n\n"${cleanFeedback}"\n\nThink you can do better?`;
            const tweetUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(tweetText)}&url=${encodeURIComponent('https://rimme.app')}`;
            window.open(tweetUrl, '_blank');
        });
        
        // Challenge a friend
        shareChallenge.addEventListener('click', () => {
            const challengeText = `I scored ${lastScore}/10 on Rim Me. Beat that! üçë`;
            const challengeUrl = `https://rimme.app`;
            
            // Try native share first (works great on mobile)
            if (navigator.share) {
                navigator.share({
                    title: 'Rim Me Challenge',
                    text: challengeText,
                    url: challengeUrl
                }).catch(() => {
                    // If share fails, fall back to copy
                    copyToClipboard(`${challengeText}\n${challengeUrl}`);
                });
            } else {
                // Desktop fallback - copy to clipboard
                copyToClipboard(`${challengeText}\n${challengeUrl}`);
            }
        });
        
        // Copy link
        copyLink.addEventListener('click', () => {
            copyToClipboard('https://rimme.app');
        });
        
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast('Link copied!');
            }).catch(() => {
                showToast('Failed to copy');
            });
        }
        
        function showToast(message) {
            toast.textContent = message;
            toast.classList.add('visible');
            setTimeout(() => {
                toast.classList.remove('visible');
            }, 2000);
        }
        
        // Hide share buttons when starting a new drawing
        canvas.addEventListener('mousedown', () => {
            shareButtons.classList.remove('visible');
        });
        canvas.addEventListener('touchstart', () => {
            shareButtons.classList.remove('visible');
        });

        // ---- THE END! ----
        // When you load this file in a browser, all this code runs
        // and the app becomes interactive
        
    </script>
</body>
</html>
